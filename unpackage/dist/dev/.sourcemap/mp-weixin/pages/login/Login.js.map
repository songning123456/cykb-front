{"version":3,"sources":["webpack:///D:/WebStormProject/cykb-front/main.js","webpack:///D:/WebStormProject/cykb-front/pages/login/Login.vue?5045","webpack:///D:/WebStormProject/cykb-front/pages/login/Login.vue?cec5","webpack:///D:/WebStormProject/cykb-front/pages/login/Login.vue?a199","webpack:///D:/WebStormProject/cykb-front/pages/login/Login.vue?e2dd","webpack:///D:/WebStormProject/cykb-front/pages/login/Login.vue"],"names":["createPage","Page","name","data","userInfo","mounted","uni","getStorage","key","success","response1","navigateTo","url","JSON","stringify","fail","reject1","methods","loginWx","login","response2","showLoading","title","getUserInfo","provider","response3","params","condition","code","avatar","avatarUrl","nickName","gender","common","getGender","request","post","then","hideLoading","status","setStorage","showToast","duration","icon","catch","e","reject3"],"mappings":"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","file":"pages/login/Login.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/login/Login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./Login.vue?vue&type=template&id=065c1e6b&scoped=true&\"\nvar renderjs\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"065c1e6b\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX.2.6.1.20200226.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('065c1e6b')) {\n      api.createRecord('065c1e6b', component.options)\n    } else {\n      api.reload('065c1e6b', component.options)\n    }\n    module.hot.accept(\"./Login.vue?vue&type=template&id=065c1e6b&scoped=true&\", function () {\n      api.rerender('065c1e6b', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"WebStormProject/cykb-front/pages/login/Login.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Login.vue?vue&type=template&id=065c1e6b&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.2.6.1.20200226.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport request from '../../util/request';\nimport common from '../../util/common';\n\nexport default {\n    name: \"Login\",\n    data() {\n        return {\n            userInfo: {}\n        };\n    },\n    mounted() {\n        uni.getStorage({\n            key: 'userInfo',\n            success: response1 => {\n                uni.navigateTo({\n                    url: '/pages/home/Home?userInfo=' + JSON.stringify(response1)\n                });\n            },\n            fail: reject1 => {\n                // doNothing...\n            }\n        });\n    },\n    methods: {\n        loginWx() {\n            uni.login({\n                success: response2 => {\n                    uni.showLoading({\n                        title: '登陆中'\n                    });\n                    // 获取用户信息\n                    uni.getUserInfo({\n                        provider: 'weixin',\n                        success: response3 => {\n                            debugger;\n                            let params = {\n                                condition: {\n                                    code: response2.code,\n                                    avatar: response3.userInfo.avatarUrl,\n                                    nickName: response3.userInfo.nickName,\n                                    gender: common.getGender(response3.userInfo.gender)\n                                }\n                            };\n                            request.post('/users/weixin/getUsersInfo', params).then(data => {\n                                uni.hideLoading();\n                                if (data.status === 200) {\n                                    this.userInfo = data.data[0];\n                                    uni.setStorage({\n                                        key: 'userInfo',\n                                        data: JSON.stringify(this.userInfo)\n                                    });\n                                    uni.navigateTo({\n                                        url: '/pages/home/Home?userInfo=' + JSON.stringify(this.userInfo)\n                                    });\n                                } else {\n                                    uni.showToast({\n                                        title: '获取用户信息失败',\n                                        duration: 1000,\n                                        icon: 'none'\n                                    });\n                                }\n                            }).catch(e => {\n                                uni.hideLoading();\n                                uni.showToast({\n                                    title: '获取用户信息失败',\n                                    duration: 1000,\n                                    icon: 'none'\n                                });\n                            })\n                        },\n                        fail: reject3 => {\n                            uni.hideLoading();\n                            uni.showToast({\n                                title: '获取用户信息失败',\n                                duration: 1000,\n                                icon: 'none'\n                            });\n                        }\n                    });\n                },\n                fail: response2 => {\n                    uni.showToast({\n                        title: '登录失败',\n                        duration: 1000,\n                        icon: 'none'\n                    });\n                }\n            });\n        }\n    }\n}\n"],"sourceRoot":""}